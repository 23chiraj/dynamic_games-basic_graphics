    #include<graphics.h>
    #include<stdio.h>
    #include<conio.h>
    #include<dos.h>
    #include<stdlib.h>
    #include<iostream.h>

int z=16,n=16,P[16]={16,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15};
int D[16]={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},co=1;
long T=0;

void build(long A[4][4] );

void start();

void move(long A[4][4],int c);

void check(long A[4][4]);

void main()
{  char c;
 int gdriver=9,grade=1;
 initgraph(&gdriver,&grade,"C:\\tc\\bgi");
clrscr();
cout<<" 2048 \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n";
cout<<" CODING CLUB WELCOMES YOU \n";
getch();
start();
}

void check(long A[4][4])
{   z=0;
  int i,j;
for(i=0;i<4;i++){
for(j=0;j<4;j++){
if(A[i][j]==0){
D[4*i+j]=0;
P[4*i+j]=(4*i+j+1);
z++;
}
else {
D[4*i+j]=1;
P[4*i+j]=0;
 }

}
}
}


void move( long A[4][4],int c)
{
  int i,j,k,sum[4]={0,0,0,0};
 long B[4][4];

 if(c==72){
	 for(j=0;j<4;j++){
		 for(i=0;i<4;i++){
			  B[j][i]=A[j][i];
			if(A[i][j]!=0)
				k=1;
				  else
					k=0;
					  sum[j]=sum[j]+k;
										  }
											 }

 for(j=0;j<4;j++){
if(sum[j]==1)
{
if(A[1][j]!=0){
A[0][j]=A[1][j];
A[1][j]=0;}

else if(A[2][j]!=0){
A[0][j]=A[2][j];
A[2][j]=0;}

else if(A[3][j]!=0){
A[0][j]=A[3][j];
A[3][j]=0;}
}

else if(sum[j]==2){

if(A[0][j]==0 && A[1][j]==0 && A[2][j]!=0 && A[3][j]!=0  ) {
if(A[2][j]==A[3][j]){
A[0][j]=A[2][j]+A[3][j];
T=T+A[0][j]; }
else{
A[0][j]=A[2][j];
A[1][j]=A[3][j];
}
A[2][j]=0;
A[3][j]=0;        }

else if(A[0][j]==0 && A[1][j]!=0 && A[2][j]==0 && A[3][j]!=0  )  {
if(A[1][j]==A[3][j]) {
A[0][j]=A[1][j]+A[3][j];
A[1][j]=0;
T=T+A[0][j];}
else{
A[0][j]=A[1][j];
A[1][j]=A[3][j];
}
A[3][j]=0;}

else if(A[0][j]!=0 && A[1][j]==0 && A[2][j]==0 && A[3][j]!=0  )  {
if(A[0][j]==A[3][j]){
A[0][j]=A[0][j]+A[3][j];
T=T+A[0][j];}
else{
A[0][j]=A[0][j];
A[1][j]=A[3][j];
}
A[3][j]=0;}

else if(A[0][j]==0 && A[1][j]!=0 && A[2][j]!=0 && A[3][j]==0  )  {
if(A[1][j]==A[2][j]){
A[0][j]=A[1][j]+A[2][j];
A[1][j]=0;
T=T+A[0][j];
}
else{
A[0][j]=A[1][j];
A[1][j]=A[2][j];
}
A[2][j]=0;}

else if(A[0][j]!=0 && A[1][j]==0 && A[2][j]!=0 && A[3][j]==0  )  {
if(A[0][j]==A[2][j]){
A[0][j]=A[0][j]+A[2][j];
A[1][j]=0;
T=T+A[0][j];}
else{
A[0][j]=A[0][j];
A[1][j]=A[2][j];
}
A[2][j]=0;}

else if(A[0][j]!=0 && A[1][j]!=0 && A[2][j]==0 && A[3][j]==0 ){
if(A[0][j]==A[1][j]){
A[0][j]=A[0][j]+A[1][j];
A[1][j]=0;
T=T+A[0][j];}
}
	 }

else if(sum[j]==3){

if(A[0][j]!=0 && A[1][j]!=0 && A[2][j]!=0 && A[3][j]==0 )  {

if((A[0][j]==A[1][j]) && (A[0][j]!=A[2][j]) ){
A[0][j]=A[0][j]+A[1][j];
A[1][j]=A[2][j];
A[2][j]=0;
T=T+A[0][j];             }

else if((A[2][j]==A[1][j]) && (A[0][j]!=A[2][j]) ){
A[1][j]=A[1][j]+A[2][j];
A[2][j]=0;
T=T+A[1][j];
}

else if((A[2][j]==A[0][j]) && (A[0][j]!=A[1][j]) ){
A[0][j]=A[0][j];
A[1][j]=A[1][j];
A[2][j]=A[2][j];
}

else if((A[2][j]==A[0][j]) && (A[0][j]==A[1][j]) ){
A[0][j]=A[0][j]+A[1][j];
A[2][j]=0;
T=T+A[0][j];
}
						 }

if(A[0][j]!=0 && A[1][j]==0 && A[2][j]!=0 && A[3][j]!=0 )  {

if((A[0][j]==A[2][j]) && (A[0][j]!=A[3][j]) ){
A[0][j]=A[0][j]+A[2][j];
A[1][j]=A[3][j];
A[2][j]=0;
A[3][j]=0;
T=T+A[0][j];            }

else if((A[0][j]==A[3][j]) && (A[0][j]!=A[2][j]) ){
A[1][j]=A[2][j];
A[2][j]=A[3][j];
A[3][j]=0;
}

else if((A[2][j]==A[0][j]) && (A[0][j]==A[3][j]) ){
A[0][j]=A[0][j]+A[2][j];
A[1][j]=A[3][j];
A[2][j]=0;
A[3][j]=0;
T=T+A[0][j];
}

else if((A[2][j]==A[3][j]) && (A[0][j]!=A[3][j]) ){
A[0][j]=A[0][j];
A[1][j]=A[2][j]+A[3][j];
A[3][j]=0;
A[2][j]=0;
T=T+A[1][j];
}

else if((A[2][j]!=A[3][j]) && (A[0][j]!=A[3][j]) && (A[0][j]!=A[2][j])){
A[0][j]=A[0][j];
A[1][j]=A[2][j];
A[2][j]=A[3][j];
A[3][j]=0;
}
  }

if(A[0][j]==0 && A[1][j]!=0 && A[2][j]!=0 && A[3][j]!=0 )  {

if((A[1][j]==A[2][j]) && (A[1][j]!=A[3][j]) ){
A[0][j]=A[1][j]+A[2][j];
A[1][j]=A[3][j];
A[2][j]=0;
A[3][j]=0;
T=T+A[0][j];        }

else if((A[1][j]==A[3][j]) && (A[1][j]!=A[2][j]) ){
A[0][j]=A[1][j];
A[1][j]=A[2][j];
A[2][j]=A[3][0];
A[3][j]=0;
}

else if((A[2][j]==A[3][j]) && (A[1][j]!=A[3][j]) ){
A[0][j]=A[1][j];
A[1][j]=A[3][j]+A[2][j];
A[2][j]=0;
A[3][j]=0;
T=T+A[1][j];
}

else if((A[2][j]==A[3][j]) && (A[1][j]==A[3][j]) ){
A[0][j]=A[2][j]+A[1][j];
A[3][j]=0;
A[2][j]=0;
}

else if((A[2][j]!=A[3][j]) && (A[0][j]!=A[3][j]) && (A[0][j]!=A[2][j])){
A[0][j]=A[1][j];
A[1][j]=A[2][j];
A[2][j]=A[3][j];
A[3][j]=0;
}
  }

else if(A[0][j]!=0 && A[1][j]!=0 && A[2][j]==0 && A[3][j]!=0 )  {

if((A[1][j]==A[0][j]) && (A[1][j]!=A[3][j]) ){
A[0][j]=A[1][j]+A[0][j];
A[1][j]=A[3][j];
A[2][j]=0;
A[3][j]=0;
T=T+A[0][j];             }

else if((A[0][j]==A[3][j]) && (A[1][j]!=A[3][j]) ){
A[0][j]=A[0][j];
A[1][j]=A[1][j];
A[2][j]=A[3][0];
A[3][j]=0;
}

else if((A[1][j]==A[3][j]) && (A[0][j]!=A[3][j]) ){
A[0][j]=A[0][j];
A[1][j]=A[3][j]+A[1][j];
A[2][j]=0;
A[3][j]=0;
T=T+A[1][j];
}

else if((A[2][j]==A[3][j]) && (A[1][j]==A[3][j]) ){
A[0][j]=A[0][j]+A[1][j];
A[3][j]=0;
A[2][j]=0;
T=T+A[0][j];
}

else if((A[2][j]!=A[3][j]) && (A[0][j]!=A[3][j]) && (A[0][j]!=A[2][j])){
A[0][j]=A[0][j];
A[1][j]=A[1][j];
A[2][j]=A[3][j];
A[3][j]=0;
}
  }
	  }

else if(sum[j]==4){

if((A[0][j]==A[1][j]) && (A[0][j]!=A[2][j]) && (A[0][j]!=A[3][j]) && (A[3][j]!=A[2][j]))
{
A[0][j]=A[0][j]+A[1][j];
A[1][j]=A[2][j];
A[2][j]=A[3][j];
A[3][j]=0;
T=T+A[0][j];
}

if((A[0][j]!=A[1][j]) && (A[0][j]==A[2][j]) && (A[0][j]!=A[3][j]) && (A[3][j]!=A[1][j]))
{
A[0][j]=A[0][j];
A[1][j]=A[1][j];
A[2][j]=A[2][j];
A[3][j]=A[3][j];
}

if((A[0][j]!=A[1][j]) && (A[0][j]!=A[2][j]) && (A[0][j]==A[3][j]) && (A[2][j]!=A[1][j]))
{
A[0][j]=A[0][j];
A[1][j]=A[1][j];
A[2][j]=A[2][j];
A[3][j]=A[3][j];
}

if((A[2][j]==A[1][j]) && (A[0][j]!=A[2][j]) && (A[2][j]!=A[3][j]) && (A[3][j]!=A[0][j]))
{
A[0][j]=A[0][j];
A[1][j]=A[1][j]+A[2][j];
A[2][j]=A[3][j];
A[3][j]=0;
T=T+A[1][j];
}

if((A[0][j]!=A[1][j]) && (A[1][j]==A[3][j]) && (A[1][j]!=A[2][j]) && (A[2][j]!=A[0][j]))
{
A[0][j]=A[0][j];
A[1][j]=A[1][j];
A[2][j]=A[2][j];
A[3][j]=A[3][j];
}

if((A[0][j]!=A[1][j]) && (A[3][j]==A[2][j]) && (A[0][j]!=A[3][j]) && (A[3][j]!=A[1][j]))
{
A[0][j]=A[0][j];
A[1][j]=A[1][j];
A[2][j]=A[2][j]+A[3][j];
A[3][j]=0;
T=T+A[2][j];
}

if((A[0][j]==A[1][j]) && (A[0][j]==A[2][j]) && (A[0][j]!=A[3][j]))
{
A[0][j]=A[0][j]+A[1][j];
A[1][j]=A[2][j];
A[2][j]=A[3][j];
A[3][j]=0;
T=T+A[0][j];
}

if((A[0][j]!=A[1][j]) && (A[0][j]==A[2][j]) && (A[0][j]==A[3][j]))
{
A[0][j]=A[0][j];
A[1][j]=A[1][j];
A[2][j]=A[3][j]+A[2][j];
A[3][j]=0;
T=T+A[2][j];
}

if((A[0][j]!=A[1][j]) && (A[1][j]==A[2][j]) && (A[1][j]==A[3][j]))
{
A[0][j]=A[0][j];
A[1][j]=A[2][j]+A[1][j];
A[2][j]=A[3][j];
A[3][j]=0;
T=T+A[1][j];
}

if((A[0][j]==A[1][j]) && (A[0][j]==A[3][j]) && (A[0][j]!=A[2][j]))
{
A[0][j]=A[0][j]+A[1][j];
A[1][j]=A[2][j];
A[2][j]=A[3][j];
A[3][j]=0;
T=T+A[0][j];
}

if((A[0][j]==A[1][j]) && (A[0][j]==A[2][j]) && (A[0][j]==A[3][j]))
{
A[0][j]=A[0][j]+A[1][j];
A[1][j]=A[2][j]+A[3][j];
A[2][j]=0;
A[3][j]=0;
T=T+A[0][j]+A[1][j];
}

if((A[0][j]==A[1][j]) && (A[3][j]==A[2][j]) && (A[1][j]!=A[3][j]))
{
A[0][j]=A[0][j]+A[1][j];
A[1][j]=A[2][j]+A[3][j];
A[2][j]=0;
A[3][j]=0;
T=T+A[0][j]+A[1][j];
}

if((A[0][j]==A[2][j]) && (A[1][j]==A[3][j]) && (A[0][j]!=A[1][j]))
{
A[0][j]=A[0][j];
A[1][j]=A[1][j];
A[2][j]=A[2][j];
A[3][j]=A[3][0];
}

if((A[0][j]==A[3][j]) && (A[1][j]==A[2][j]) && (A[0][j]!=A[1][j]))
{
A[0][j]=A[0][j];
A[1][j]=A[2][j]+A[1][j];
A[2][j]=A[3][j];
A[3][j]=0;
T=T+A[1][j];
}
  }
	 }
		}

else if(c==80)
{ for(j=0;j<4;j++){
  for(i=0;i<4;i++){
			if(A[i][j]!=0)
				k=1;
				  else
					k=0;
					  sum[j]=sum[j]+k;
										  }
											  }
for(j=0;j<4;j++){
if(sum[j]==1)
{
if(A[1][j]!=0){
A[3][j]=A[1][j];
A[1][j]=0;}

else if(A[2][j]!=0){
A[3][j]=A[2][j];
A[2][j]=0;}

else if(A[0][j]!=0){
A[3][j]=A[0][j];
A[0][j]=0;}
}

else if(sum[j]==2){

if(A[0][j]==0 && A[1][j]==0 && A[2][j]!=0 && A[3][j]!=0  ) {
if(A[2][j]==A[3][j]) {
A[3][j]=A[2][j]+A[3][j];
A[2][j]=0;
T=T+A[3][j];}
else{
A[3][j]=A[3][j];
A[2][j]=A[2][j];
}
		}

else if(A[0][j]==0 && A[1][j]!=0 && A[2][j]==0 && A[3][j]!=0  )  {
if(A[1][j]==A[3][j]) {
A[3][j]=A[1][j]+A[3][j];
A[2][j]=0;
T=T+A[3][j];}
else{
A[2][j]=A[1][j];
A[3][j]=A[3][j];
}
A[1][j]=0;}

else if(A[0][j]!=0 && A[1][j]==0 && A[2][j]==0 && A[3][j]!=0  )  {
if(A[0][j]==A[3][j]){
A[3][j]=A[0][j]+A[3][j];
T=T+A[3][j]; }
else{
A[3][j]=A[3][j];
A[2][j]=A[0][j];
}
A[0][j]=0;}

else if(A[0][j]==0 && A[1][j]!=0 && A[2][j]!=0 && A[3][j]==0  )  {
if(A[1][j]==A[2][j]){
A[3][j]=A[1][j]+A[2][j];
A[2][0]=0;
T=T+A[3][j];
}
else{
A[3][j]=A[2][j];
A[2][j]=A[1][j];
}
A[1][j]=0;}

else if(A[0][j]!=0 && A[1][j]==0 && A[2][j]!=0 && A[3][j]==0  )  {
if(A[0][j]==A[2][j]){
A[3][j]=A[0][j]+A[2][j];
A[2][j]=0;
T=T+A[3][j];  }
else{
A[3][j]=A[2][j];
A[2][j]=A[0][j];
}
A[0][j]=0;}

else if(A[0][j]!=0 && A[1][j]!=0 && A[2][j]==0 && A[3][j]==0 ){
if(A[0][j]==A[1][j]){
A[3][j]=A[0][j]+A[1][j];
A[2][j]=0;
T=T+A[3][j];  }
else{
A[3][j]=A[1][j];
A[2][j]=A[0][j];
}
A[1][j]=0;
A[0][j]=0;
}
	 }

else if(sum[j]==3){

if(A[0][j]!=0 && A[1][j]!=0 && A[2][j]!=0 && A[3][j]==0 )  {

if((A[0][j]==A[1][j]) && (A[0][j]!=A[2][j]) ){
A[3][j]=A[2][j];
A[2][j]=A[0][j]+A[1][j];
A[0][j]=0;
A[1][j]=0;
T=T+A[3][j];					}

else if((A[2][j]==A[1][j]) && (A[0][j]!=A[2][j]) ){
A[3][j]=A[1][j]+A[2][j];
A[2][j]=A[1][j];
A[0][j]=0;
A[1][j]=0;
T=T+A[3][j];
}

else if((A[2][j]==A[0][j]) && (A[0][j]!=A[1][j]) ){
A[3][j]=A[2][j];
A[2][j]=A[1][j];
A[1][j]=A[0][j];
A[0][j]=0;
}

else if((A[2][j]==A[0][j]) && (A[0][j]==A[1][j]) ){
A[3][j]=A[0][j]+A[1][j];
A[2][j]=A[2][j];
A[1][j]=0;
A[0][j]=0;
T=T+A[3][j];
}

else if((A[0][j]!=A[1][j]) && (A[0][j]!=A[2][j]) && A[1][j]!=A[2][j]){
A[3][j]=A[2][j];
A[2][j]=A[1][j];
A[1][j]=A[0][j];
A[0][j]=0;
}
						 }

if(A[0][j]!=0 && A[1][j]==0 && A[2][j]!=0 && A[3][j]!=0 )  {

if((A[0][j]==A[2][j]) && (A[0][j]!=A[3][j]) ){
A[2][j]=A[0][j]+A[2][j];
A[0][j]=0;
T=T+A[2][j];
				  }

else if((A[0][j]==A[3][j]) && (A[0][j]!=A[2][j]) ){
A[1][j]=A[0][j];
A[0][j]=0;
}

else if((A[2][j]==A[0][j]) && (A[0][j]==A[3][j]) ){
A[3][j]=A[3][j]+A[2][j];
A[2][j]=A[0][j];
A[0][j]=0;
T=T+A[3][j];
}

else if((A[2][j]==A[3][j]) && (A[0][j]!=A[3][j]) ){
A[3][j]=A[2][j]+A[3][j];
A[2][j]=A[0][j];
A[0][j]=0;
T=T+A[3][j];
}

else if((A[2][j]!=A[3][j]) && (A[0][j]!=A[3][j]) && (A[0][j]!=A[2][j])){
A[1][j]=A[0][j];
A[0][j]=0;
}
  }

if(A[0][j]==0 && A[1][j]!=0 && A[2][j]!=0 && A[3][j]!=0 )  {

if((A[1][j]==A[2][j]) && (A[1][j]!=A[3][j]) ){
A[2][j]=A[1][j]+A[2][j];
A[1][j]=0;
T=T+A[2][j];
				  }

else if((A[1][j]==A[3][j]) && (A[1][j]!=A[2][j]) ){
A[0][j]=A[0][j];
A[1][j]=A[1][j];
A[2][j]=A[2][j];
A[3][j]=A[3][j];
}

else if((A[2][j]==A[3][j]) && (A[1][j]!=A[3][j]) ){
A[3][j]=A[3][j]+A[2][j];
A[2][j]=A[1][j];
A[1][j]=0;
T=T+A[3][j];
}

else if((A[2][j]==A[3][j]) && (A[1][j]==A[3][j]) ){
A[3][j]=A[2][j]+A[3][j];
A[2][j]=A[1][j];
A[1][j]=0;
}

else if((A[2][j]!=A[3][j]) && (A[0][j]!=A[3][j]) && (A[0][j]!=A[2][j])){
A[0][j]=A[0][j];
A[1][j]=A[1][j];
A[2][j]=A[2][j];
A[3][j]=A[3][j];
}
  }

else if(A[0][j]!=0 && A[1][j]!=0 && A[2][j]==0 && A[3][j]!=0 )  {

if((A[1][j]==A[0][j]) && (A[1][j]!=A[3][j]) ){
A[2][j]=A[1][j]+A[0][j];
A[1][j]=0;
A[0][j]=0;
T=T+A[2][j];			  }

else if((A[0][j]==A[3][j]) && (A[1][j]!=A[3][j]) ){
A[2][j]=A[1][j];
A[1][j]=A[0][j];
A[0][j]=0;
}

else if((A[1][j]==A[3][j]) && (A[0][j]!=A[3][j]) ){
A[3][j]=A[3][j]+A[1][j];
A[2][j]=A[0][j];
A[0][j]=0;
T=T+A[3][j];
}

else if((A[2][j]==A[3][j]) && (A[1][j]==A[3][j]) ){
A[3][j]=A[3][j]+A[1][j];
A[2][j]=A[0][j];
A[1][j]=0;
A[0][j]=0;
T=T+A[3][j];
}

else if((A[2][j]!=A[3][j]) && (A[0][j]!=A[3][j]) && (A[0][j]!=A[2][j])){
A[2][j]=A[1][j];
A[1][j]=A[0][j];
A[0][j]=0;
}
  }
	  }

else if(sum[j]==4){

if((A[0][j]==A[1][j]) && (A[0][j]!=A[2][j]) && (A[0][j]!=A[3][j]) && (A[3][j]!=A[2][j]))
{
A[1][j]=A[0][j]+A[1][j];
A[0][j]=0;
T=T+A[1][j];
}

if((A[0][j]!=A[1][j]) && (A[0][j]==A[2][j]) && (A[0][j]!=A[3][j]) && (A[3][j]!=A[1][j]))
{
A[0][j]=A[0][j];
A[1][j]=A[1][j];
A[2][j]=A[2][j];
A[3][j]=A[3][j];
}

if((A[0][j]!=A[1][j]) && (A[0][j]!=A[2][j]) && (A[0][j]==A[3][j]) && (A[2][j]!=A[1][j]))
{
A[0][j]=A[0][j];
A[1][j]=A[1][j];
A[2][j]=A[2][j];
A[3][j]=A[3][j];
}

if((A[2][j]==A[1][j]) && (A[0][j]!=A[2][j]) && (A[2][j]!=A[3][j]) && (A[3][j]!=A[0][j]))
{
A[2][j]=A[1][j]+A[2][j];
A[1][j]=A[0][j];
A[0][j]=0;
T=T+A[2][j];
}

if((A[0][j]!=A[1][j]) && (A[1][j]==A[3][j]) && (A[1][j]!=A[2][j]) && (A[2][j]!=A[0][j]))
{
A[0][j]=A[0][j];
A[1][j]=A[1][j];
A[2][j]=A[2][j];
A[3][j]=A[3][j];
}

if((A[0][j]!=A[1][j]) && (A[3][j]==A[2][j]) && (A[0][j]!=A[3][j]) && (A[3][j]!=A[1][j]))
{
A[3][j]=A[2][j]+A[3][j];
A[2][j]=A[1][j];
A[1][j]=A[0][j];
A[0][j]=0;
T=T+A[3][j];
}

if((A[0][j]==A[1][j]) && (A[0][j]==A[2][j]) && (A[0][j]!=A[3][j]))
{
A[2][j]=A[2][j]+A[1][j];
A[1][j]=A[0][j];
A[0][j]=0;
T=T+A[2][j];
}

if((A[0][j]!=A[1][j]) && (A[0][j]==A[2][j]) && (A[0][j]==A[3][j]))
{
A[3][j]=A[3][j]+A[2][j];
A[2][j]=A[1][j];
A[1][j]=A[0][j];
A[0][j]=0;
T=T+A[3][j];
}

if((A[0][j]!=A[1][j]) && (A[1][j]==A[2][j]) && (A[1][j]==A[3][j]))
{
A[3][j]=A[2][j]+A[3][j];
A[2][j]=A[1][j];
A[1][j]=A[0][j];
A[0][j]=0;
T=T+A[3][j];
}

if((A[0][j]==A[1][j]) && (A[0][j]==A[3][j]) && (A[0][j]!=A[2][j]))
{
A[1][j]=A[0][j]+A[1][j];
A[0][j]=0;
T=T+A[1][j];
}

if((A[0][j]==A[1][j]) && (A[0][j]==A[2][j]) && (A[0][j]==A[3][j]))
{
A[2][j]=A[0][j]+A[1][j];
A[3][j]=A[2][j]+A[3][j];
A[0][j]=0;
A[1][j]=0;
T=T+A[3][j]+A[2][j];
}

if((A[0][j]==A[1][j]) && (A[3][j]==A[2][j]) && (A[1][j]!=A[3][j]))
{
A[2][j]=A[0][j]+A[1][j];
A[3][j]=A[2][j]+A[3][j];
A[1][j]=0;
A[0][j]=0;
T=T+A[3][j]+A[2][j];
}

if((A[0][j]==A[2][j]) && (A[1][j]==A[3][j]) && (A[0][j]!=A[1][j]))
{
A[0][j]=A[0][j];
A[1][j]=A[1][j];
A[2][j]=A[2][j];
A[3][j]=A[3][0];
}

if((A[0][j]==A[3][j]) && (A[1][j]==A[2][j]) && (A[0][j]!=A[1][j]))
{
A[2][j]=A[2][j]+A[1][j];
A[1][j]=A[0][j];
A[0][j]=0;
T=T+A[2][j];
}
  }
	 }
		}

else if(c==75){
	 for(i=0;i<4;i++){

		 for(j=0;j<4;j++){
			if(A[i][j]!=0)
				k=1;
				  else
					k=0;
					  sum[i]=sum[i]+k;
										  }
											  }
for(i=0;i<4;i++){
if(sum[i]==1)
{
if(A[i][1]!=0){
A[i][0]=A[i][1];
A[i][1]=0;
}

else if(A[i][2]!=0){
A[i][0]=A[i][2];
A[i][2]=0;}

else if(A[i][3]!=0){
A[i][0]=A[i][3];
A[i][3]=0;}
}

else if(sum[i]==2){

if(A[i][0]==0 && A[i][1]==0 && A[i][2]!=0 && A[i][3]!=0  ) {

if(A[i][2]==A[i][3]) {
A[i][0]=A[i][2]+A[i][3];
T=T+A[i][0];    }
else{
A[i][0]=A[i][2];
A[i][1]=A[i][3];
}
A[i][3]=0;
A[i][2]=0;
		  }


else if(A[i][0]!=0 && A[i][1]!=0 && A[i][2]==0 && A[i][3]==0  ) {

if(A[i][0]==A[i][1])   {
A[i][0]=A[i][0]+A[i][1];
A[i][1]=0;
T=T+A[i][0];         }
		  }


else if(A[i][0]!=0 && A[i][1]==0 && A[i][2]!=0 && A[i][3]==0  ) {

if(A[i][2]==A[i][0])    {
A[i][0]=A[i][2]+A[i][0];
T=T+A[i][0];    }
else{
A[i][0]=A[i][0];
A[i][1]=A[i][2];
}
A[i][2]=0;
		  }


else if(A[i][0]!=0 && A[i][1]==0 && A[i][2]==0 && A[i][3]!=0  ) {

if(A[i][0]==A[i][3])  {
A[i][0]=A[i][0]+A[i][3];
T=T+A[i][0];    }
else{
A[i][0]=A[i][0];
A[i][1]=A[i][3];
}
A[i][3]=0;
		  }


else if(A[i][0]==0 && A[i][1]!=0 && A[i][2]==0 && A[i][3]!=0  ) {

if(A[i][1]==A[i][3])      {
A[i][0]=A[i][1]+A[i][3];
A[i][1]=0;
T=T+A[i][0];}
else{
A[i][0]=A[i][1];
A[i][1]=A[i][3];
}
A[i][3]=0;
		  }


else if(A[i][0]==0 && A[i][1]!=0 && A[i][2]!=0 && A[i][3]==0  ) {

if(A[i][2]==A[i][1])  {
A[i][0]=A[i][2]+A[i][1];
A[i][1]=0;
T=T+A[i][0];    }
else{
A[i][0]=A[i][1];
A[i][1]=A[i][2];
}
A[i][2]=0;
		  }
			 }

else if(sum[i]==3){

if(A[i][0]!=0 && A[i][1]!=0 && A[i][2]!=0 && A[i][3]==0 )  {

if((A[i][0]==A[i][1]) && (A[i][1]!=A[i][2]) ){
A[i][0]=A[i][0]+A[i][1];
A[i][1]=A[i][2];
A[i][2]=0;
T=T+A[i][0];     }

else if((A[i][2]==A[i][1]) && (A[i][1]!=A[i][0]) ){
A[i][1]=A[i][2]+A[i][1];
A[i][2]=0;
T=T+A[i][1];             }

else if((A[i][0]==A[i][2]) && (A[i][1]!=A[i][2]) ){
A[i][0]=A[i][0];
A[i][1]=A[i][1];
A[i][2]=A[i][2];               }

else if((A[i][0]==A[i][1]) && (A[i][1]==A[i][2]) ){
A[i][0]=A[i][0]+A[i][1];
A[i][1]=A[i][2];
A[i][2]=0;
T=T+A[i][0];              }

}

else if(A[i][0]==0 && A[i][1]!=0 && A[i][2]!=0 && A[i][3]!=0 )  {

if((A[i][2]==A[i][1]) && (A[i][1]!=A[i][3]) ){
A[i][0]=A[i][2]+A[i][1];
A[i][1]=A[i][3];
A[i][3]=0;
T=T+A[i][0];             }

else if((A[i][3]==A[i][1]) && (A[i][1]!=A[i][2]) ){
A[i][0]=A[i][1];
A[i][1]=A[i][2];
A[i][2]=A[i][3];
A[i][3]=0;               }

else if((A[i][3]==A[i][2]) && (A[i][1]!=A[i][2]) ){
A[i][0]=A[i][1];
A[i][1]=A[i][2]+A[i][3];
A[i][3]=0;
A[i][2]=0;
T=T+A[i][1];             }

else if((A[i][3]==A[i][1]) && (A[i][1]==A[i][2]) ){
A[i][0]=A[i][2]+A[i][1];
A[i][1]=A[i][3];
A[i][2]=0;
A[i][3]=0;
T=T+A[i][0];              }


else if((A[i][3]!=A[i][1]) && (A[i][1]!=A[i][2]) && (A[i][2]!=A[i][3]) ){
A[i][0]=A[i][1];
A[i][1]=A[i][2];
A[i][2]=A[i][3];
A[i][3]=0;               }
						 }


else if(A[i][0]!=0 && A[i][1]==0 && A[i][2]!=0 && A[i][3]!=0 )  {

if((A[i][2]==A[i][0]) && (A[i][0]!=A[i][3]) ){
A[i][0]=A[i][2]+A[i][0];
A[i][1]=A[i][3];
A[i][3]=0;
A[i][2]=0;
T=T+A[i][0];      }

else if((A[i][3]==A[i][0]) && (A[i][0]!=A[i][2]) ){
A[i][0]=A[i][0];
A[i][1]=A[i][2];
A[i][2]=A[i][3];
A[i][3]=0;               }

else if((A[i][3]==A[i][2]) && (A[i][0]!=A[i][2]) ){
A[i][0]=A[i][0];
A[i][1]=A[i][2]+A[i][3];
A[i][3]=0;
A[i][2]=0;
T=T+A[i][1];             }

else if((A[i][3]==A[i][0]) && (A[i][0]==A[i][2]) ){
A[i][0]=A[i][2]+A[i][0];
A[i][1]=A[i][3];
A[i][2]=0;
A[i][3]=0;
T=T+A[i][0];             }


else if((A[i][3]!=A[i][1]) && (A[i][1]!=A[i][2]) && (A[i][2]!=A[i][3]) ){
A[i][0]=A[i][0];
A[i][1]=A[i][2];
A[i][2]=A[i][3];
A[i][3]=0;               }
						 }

else if(A[i][0]!=0 && A[i][1]!=0 && A[i][2]==0 && A[i][3]!=0 )  {

if((A[i][1]==A[i][0]) && (A[i][0]!=A[i][3]) ){
A[i][0]=A[i][1]+A[i][0];
A[i][1]=A[i][3];
A[i][3]=0;
T=T+A[i][0];
	 }

else if((A[i][3]==A[i][0]) && (A[i][0]!=A[i][1]) ){
A[i][0]=A[i][0];
A[i][1]=A[i][1];
A[i][2]=A[i][3];
A[i][3]=0;               }

else if((A[i][1]==A[i][3]) && (A[i][0]!=A[i][1]) ){
A[i][0]=A[i][0];
A[i][1]=A[i][1]+A[i][3];
A[i][3]=0;
T=T+A[i][1];
			  }

else if((A[i][3]==A[i][0]) && (A[i][0]==A[i][2]) ){
A[i][0]=A[i][1]+A[i][0];
A[i][1]=A[i][3];
A[i][3]=0;
T=T+A[i][0];               }


else if((A[i][3]!=A[i][1]) && (A[i][1]!=A[i][2]) && (A[i][2]!=A[i][3]) ){
A[i][0]=A[i][0];
A[i][1]=A[i][1];
A[i][2]=A[i][3];
A[i][3]=0;               }
						 }
	  }

else if(sum[i]==4){

if((A[i][0]==A[i][1]) && (A[i][0]!=A[i][2]) && (A[i][0]!=A[i][3]) && (A[i][3]!=A[i][2]))
{
A[i][0]=A[i][0]+A[i][1];
A[i][1]=A[i][2];
A[i][2]=A[i][3];
A[i][3]=0;
T=T+A[i][0];
}

if((A[i][0]==A[i][2]) && (A[i][1]!=A[i][2]) && (A[i][0]!=A[i][3]) && (A[i][3]!=A[i][1]))
{
A[i][0]=A[i][0];
A[i][1]=A[i][1];
A[i][2]=A[i][2];
A[i][3]=A[i][3];
}

if((A[i][0]!=A[i][2]) && (A[i][1]!=A[i][2]) && (A[i][0]==A[i][3]) && (A[i][3]!=A[i][1]))
{
A[i][0]=A[i][0];
A[i][1]=A[i][1];
A[i][2]=A[i][2];
A[i][3]=A[i][3];
}

if((A[i][0]!=A[i][1]) && (A[i][0]!=A[i][3]) && (A[i][1]!=A[i][3]) && (A[i][1]==A[i][2]))
{
A[i][0]=A[i][0];
A[i][1]=A[i][2]+A[i][1];
A[i][2]=A[i][3];
A[i][3]=0;
T=T+A[i][1];
}

if((A[i][0]!=A[i][1]) && (A[i][1]!=A[i][2]) && (A[i][2]!=A[i][0]) && (A[i][3]==A[i][1]))
{
A[i][0]=A[i][0];
A[i][1]=A[i][1];
A[i][2]=A[i][2];
A[i][3]=A[i][3];
}

if((A[i][0]!=A[i][1]) && (A[i][0]!=A[i][3]) && (A[i][1]!=A[i][3]) && (A[i][3]==A[i][2]))
{
A[i][0]=A[i][0];
A[i][1]=A[i][1];
A[i][2]=A[i][3]+A[i][2];
A[i][3]=0;
T=T+A[i][2];
}

if((A[i][0]==A[i][1]) && (A[i][0]==A[i][2]) && (A[i][1]!=A[i][3]))
{
A[i][0]=A[i][0]+A[i][1];
A[i][1]=A[i][2];
A[i][2]=A[i][3];
A[i][3]=0;
T=T+A[i][0];
}

if((A[i][0]!=A[i][1]) && (A[i][1]==A[i][2]) && (A[i][1]==A[i][3]))
{
A[i][0]=A[i][0];
A[i][1]=A[i][2]+A[i][1];
A[i][2]=A[i][3];
A[i][3]=0;
T=T+A[i][1];
}

if((A[i][0]==A[i][1]) && (A[i][0]!=A[i][2]) && (A[i][1]==A[i][3]))
{
A[i][0]=A[i][0]+A[i][1];
A[i][1]=A[i][2];
A[i][2]=A[i][3];
A[i][3]=0;
T=T+A[i][0];
}

if((A[i][0]!=A[i][1]) && (A[i][0]==A[i][2]) && (A[i][0]==A[i][3]))
{
A[i][0]=A[i][0];
A[i][1]=A[i][1];
A[i][2]=A[i][3]+A[i][2];
A[i][3]=0;
T=T+A[i][2];
}

if((A[i][0]==A[i][1]) && (A[i][3]==A[i][2]) && (A[i][1]!=A[i][3]))
{
A[i][0]=A[i][0]+A[i][1];
A[i][1]=A[i][2]+A[i][3];
A[i][2]=0;
A[i][3]=0;
T=T+A[i][0]+A[i][1];
}

if((A[i][0]==A[i][2]) && (A[i][1]==A[i][3]) && (A[i][2]!=A[i][3]))
{
A[i][0]=A[i][0];
A[i][1]=A[i][1];
A[i][2]=A[i][2];
A[i][3]=A[i][3];
}

if((A[i][0]==A[i][3]) && (A[i][1]==A[i][2]) && (A[i][1]!=A[i][3]))
{
A[i][0]=A[i][0];
A[i][1]=A[i][2]+A[i][1];
A[i][2]=A[i][3];
A[i][3]=0;
T=T+A[i][1];
}

if((A[i][0]==A[i][1]) && (A[i][0]==A[i][2]) && (A[i][1]==A[i][3]))
{
A[i][0]=A[i][0]+A[i][1];
A[i][1]=A[i][2]+A[i][3];
A[i][2]=0;
A[i][3]=0;
T=T+A[i][0]+A[i][1];
}
  }
	 }
		}

else if(c==77){
	 for(i=0;i<4;i++){

		 for(j=0;j<4;j++){
			if(A[i][j]!=0)
				k=1;
				  else
					k=0;
					  sum[i]=sum[i]+k;
										  }
											  }
for(i=0;i<4;i++){
if(sum[i]==1)
{
if(A[i][0]!=0){
A[i][3]=A[i][0];
A[i][0]=0;
}

else if(A[i][2]!=0){
A[i][3]=A[i][2];
A[i][2]=0;}

else if(A[i][1]!=0){
A[i][3]=A[i][1];
A[i][1]=0;}
}

else if(sum[i]==2){

if(A[i][0]==0 && A[i][1]==0 && A[i][2]!=0 && A[i][3]!=0  ) {

if(A[i][2]==A[i][3]){
A[i][3]=A[i][2]+A[i][3];
A[i][2]=0;
T=T+A[i][3]; }
		  }


else if(A[i][0]!=0 && A[i][1]!=0 && A[i][2]==0 && A[i][3]==0  ) {

if(A[i][0]==A[i][1]) {
A[i][3]=A[i][0]+A[i][1];
T=T+A[i][3];  }
else{
A[i][3]=A[i][1];
A[i][2]=A[i][0];
		  }
A[i][1]=0;
A[i][0]=0;
			 }

else if(A[i][0]!=0 && A[i][1]==0 && A[i][2]!=0 && A[i][3]==0  ) {

if(A[i][2]==A[i][0])  {
A[i][3]=A[i][2]+A[i][0];
A[i][2]=0;
T=T+A[i][3];           }
else{
A[i][3]=A[i][2];
A[i][2]=A[i][0];
}
A[i][0]=0;
A[i][1]=0;
		  }


else if(A[i][0]!=0 && A[i][1]==0 && A[i][2]==0 && A[i][3]!=0  ) {

if(A[i][0]==A[i][3]) {
A[i][3]=A[i][0]+A[i][3];
T=T+A[i][3]; }
else{
A[i][3]=A[i][3];
A[i][2]=A[i][0];
}
A[i][0]=0;
		  }


else if(A[i][0]==0 && A[i][1]!=0 && A[i][2]==0 && A[i][3]!=0  ) {

if(A[i][1]==A[i][3]) {
A[i][3]=A[i][1]+A[i][3];
T=T+A[i][3];          }
else{
A[i][3]=A[i][3];
A[i][2]=A[i][1];
}
A[i][1]=0;
		  }


else if(A[i][0]==0 && A[i][1]!=0 && A[i][2]!=0 && A[i][3]==0  ) {

if(A[i][2]==A[i][1])  {
A[i][3]=A[i][2]+A[i][1];
A[i][2]=0;
T=T+A[i][3];}
else{
A[i][3]=A[i][2];
A[i][2]=A[i][1];
}
A[i][1]=0;
		  }
			 }

else if(sum[i]==3){

if(A[i][0]!=0 && A[i][1]!=0 && A[i][2]!=0 && A[i][3]==0 )  {

if((A[i][0]==A[i][1]) && (A[i][1]!=A[i][2]) ){
A[i][3]=A[i][2];
A[i][2]=A[i][1]+A[i][0];
A[i][1]=0;
A[i][0]=0;
T=T+A[i][2];             }

else if((A[i][2]==A[i][1]) && (A[i][1]!=A[i][0]) ){
A[i][3]=A[i][2]+A[i][1];
A[i][2]=A[i][0];
A[i][1]=0;
A[i][0]=0;
T=T+A[i][3];
					}

else if((A[i][0]==A[i][2]) && (A[i][1]!=A[i][2]) ){
A[i][3]=A[i][2];
A[i][2]=A[i][1];
A[i][1]=A[i][0];
A[i][0]=0;
				  }

else if((A[i][0]==A[i][1]) && (A[i][1]==A[i][2]) ){
A[i][3]=A[i][2]+A[i][1];
A[i][2]=A[i][1];
A[i][1]=0;
T=T+A[i][3];      }

else if((A[i][0]!=A[i][1]) && (A[i][1]!=A[i][2]) && (A[i][0]!=A[i][2]) ){
A[i][3]=A[i][2];
A[i][2]=A[i][1];
A[i][1]=A[i][0];
A[i][0]=0;               }

}

else if(A[i][0]==0 && A[i][1]!=0 && A[i][2]!=0 && A[i][3]!=0 )  {

if((A[i][2]==A[i][1]) && (A[i][1]!=A[i][3]) ){
A[i][2]=A[i][2]+A[i][1];
A[i][1]=0;
T=T+A[i][2];             }

else if((A[i][3]==A[i][1]) && (A[i][1]!=A[i][2]) ){
A[i][3]=A[i][3];
A[i][2]=A[i][2];
A[i][1]=A[i][1];
					 }

else if((A[i][3]==A[i][2]) && (A[i][1]!=A[i][2]) ){
A[i][3]=A[i][2]+A[i][3];
A[i][2]=A[i][1];
A[i][1]=0;
T=T+A[i][3];          }

else if((A[i][3]==A[i][1]) && (A[i][1]==A[i][2]) ){
A[i][3]=A[i][2]+A[i][3];
A[i][2]=A[i][1];
A[i][1]=0;
T=T+A[i][3];
								  }


else if((A[i][3]!=A[i][1]) && (A[i][1]!=A[i][2]) && (A[i][2]!=A[i][3]) ){
A[i][3]=A[i][3];
A[i][2]=A[i][2];
A[i][1]=A[i][1];
						}
						 }


else if(A[i][0]!=0 && A[i][1]==0 && A[i][2]!=0 && A[i][3]!=0 )  {

if((A[i][2]==A[i][0]) && (A[i][0]!=A[i][3]) ){
A[i][2]=A[i][2]+A[i][0];
A[i][1]=0;
T=T+A[i][2];			 }

else if((A[i][3]==A[i][0]) && (A[i][0]!=A[i][2]) ){
A[i][1]=A[i][0];
A[i][0]=0;               }

else if((A[i][3]==A[i][2]) && (A[i][0]!=A[i][2]) ){
A[i][3]=A[i][2]+A[i][3];
A[i][2]=A[i][0];
A[i][0]=0;
T=T+A[i][3];      }

else if((A[i][3]==A[i][0]) && (A[i][0]==A[i][2]) ){
A[i][3]=A[i][2]+A[i][3];
A[i][2]=A[i][0];
A[i][0]=0;
T=T+A[i][3];								}


else if((A[i][3]!=A[i][1]) && (A[i][1]!=A[i][2]) && (A[i][2]!=A[i][3]) ){
A[i][1]=A[i][0];
A[i][0]=0;
					}
						 }

else if(A[i][0]!=0 && A[i][1]!=0 && A[i][2]==0 && A[i][3]!=0 )  {

if((A[i][1]==A[i][0]) && (A[i][0]!=A[i][3]) ){
A[i][2]=A[i][1]+A[i][0];
A[i][1]=0;
A[i][0]=0;
T=T+A[i][2];
	 }

else if((A[i][3]==A[i][0]) && (A[i][0]!=A[i][1]) ){
A[i][2]=A[i][1];
A[i][1]=A[i][0];
A[i][1]=0;
A[i][0]=0;               }

else if((A[i][1]==A[i][3]) && (A[i][0]!=A[i][1]) ){
A[i][3]=A[i][1]+A[i][3];
A[i][2]=A[i][0];
A[i][1]=0;
A[i][0]=0;
T=T+A[i][3];
			  }

else if((A[i][3]==A[i][0]) && (A[i][0]==A[i][2]) ){
A[i][3]=A[i][1]+A[i][3];
A[i][2]=A[i][0];
A[i][1]=0;
A[i][0]=0;
T=T+A[i][3];
				}


else if((A[i][3]!=A[i][1]) && (A[i][1]!=A[i][2]) && (A[i][2]!=A[i][3]) ){
A[i][2]=A[i][1];
A[i][1]=A[i][0];
A[i][0]=0;               }
						 }
	  }

else if(sum[i]==4){

if((A[i][0]==A[i][1]) && (A[i][0]!=A[i][2]) && (A[i][0]!=A[i][3]) && (A[i][3]!=A[i][2]))
{
A[i][1]=A[i][0]+A[i][1];
A[i][0]=0;
T=T+A[i][1];
}

if((A[i][0]==A[i][2]) && (A[i][1]!=A[i][2]) && (A[i][0]!=A[i][3]) && (A[i][3]!=A[i][1]))
{
A[i][0]=A[i][0];
A[i][1]=A[i][1];
A[i][2]=A[i][2];
A[i][3]=A[i][3];
}

if((A[i][0]!=A[i][2]) && (A[i][1]!=A[i][2]) && (A[i][0]==A[i][3]) && (A[i][3]!=A[i][1]))
{
A[i][0]=A[i][0];
A[i][1]=A[i][1];
A[i][2]=A[i][2];
A[i][3]=A[i][3];
}

if((A[i][0]!=A[i][1]) && (A[i][0]!=A[i][3]) && (A[i][1]!=A[i][3]) && (A[i][1]==A[i][2]))
{
A[i][2]=A[i][2]+A[i][1];
A[i][1]=A[i][0];
A[i][0]=0;
T=T+A[i][2];
}

if((A[i][0]!=A[i][1]) && (A[i][1]!=A[i][2]) && (A[i][2]!=A[i][0]) && (A[i][3]==A[i][1]))
{
A[i][0]=A[i][0];
A[i][1]=A[i][1];
A[i][2]=A[i][2];
A[i][3]=A[i][3];
}

if((A[i][0]!=A[i][1]) && (A[i][0]!=A[i][3]) && (A[i][1]!=A[i][3]) && (A[i][3]==A[i][2]))
{
A[i][3]=A[i][3]+A[i][2];
A[i][2]=A[i][1];
A[i][1]=A[i][0];
A[i][0]=0;
T=T+A[i][3];
}

if((A[i][0]==A[i][1]) && (A[i][0]==A[i][2]) && (A[i][1]!=A[i][3]))
{
A[i][2]=A[i][2]+A[i][1];
A[i][1]=A[i][0];
A[i][0]=0;
T=T+A[i][2];
}

if((A[i][0]!=A[i][1]) && (A[i][1]==A[i][2]) && (A[i][1]==A[i][3]))
{
A[i][3]=A[i][2]+A[i][3];
A[i][2]=A[i][1];
A[i][1]=A[i][0];
A[i][0]=0;
T=T+A[i][3];
}

if((A[i][0]==A[i][1]) && (A[i][0]!=A[i][2]) && (A[i][1]==A[i][3]))
{
A[i][1]=A[i][0]+A[i][1];
A[i][0]=0;
T=T+A[i][1];
}

if((A[i][0]!=A[i][1]) && (A[i][0]==A[i][2]) && (A[i][0]==A[i][3]))
{

A[i][3]=A[i][3]+A[i][2];
A[i][2]=A[i][1];
A[i][1]=A[i][0];
A[i][0]=0;
T=T+A[i][3];
}

if((A[i][0]==A[i][1]) && (A[i][3]==A[i][2]) && (A[i][1]!=A[i][3]))
{
A[i][3]=A[i][2]+A[i][3];
A[i][2]=A[i][0]+A[i][1];
A[i][0]=0;
A[i][1]=0;
T=T+A[i][3]+A[i][2];
}

if((A[i][0]==A[i][2]) && (A[i][1]==A[i][3]) && (A[i][2]!=A[i][3]))
{
A[i][0]=A[i][0];
A[i][1]=A[i][1];
A[i][2]=A[i][2];
A[i][3]=A[i][3];
}

if((A[i][0]==A[i][3]) && (A[i][1]==A[i][2]) && (A[i][1]!=A[i][3]))
{
A[i][2]=A[i][2]+A[i][1];
A[i][1]=A[i][0];
A[i][0]=0;
T=T+A[i][2];
}

if((A[i][0]==A[i][1]) && (A[i][0]==A[i][2]) && (A[i][1]==A[i][3]))
{
A[i][3]=A[i][2]+A[i][3];
A[i][2]=A[i][0]+A[i][1];
A[i][1]=0;
A[i][0]=0;
T=T+A[i][3]+A[i][2];
}
  }
	 }
		}
			}

void start()
{ long A[4][4];
int q,s,x,y;
int c;
for(int i=0;i<4;i++)
for(int j=0;j<4;j++)
A[i][j]=0;
check(A);
do{
int *ar=new int[z];
int j=0;
for(i=0;i<16;i++){
if(P[i]!=0){
ar[j]=P[i];
j++;
}   }
randomize();
q=random(z);
s=ar[q];
delete [z]ar;
x=(s-1)/4;
y=(s-1)%4;
if(D[s]==0)
A[x][y]=2;
build(A);
do{
settextstyle(0,0,0);
setcolor(4);
outtextxy(20,310," Press enter to exit :");
c=getch();
while(c==0)
{ c=getch();}
if(c==13)
{closegraph();
exit(1);}
if( c!=72 && c!=75 && c!=77 && c!=80)
outtextxy(200,60," Wrong action choosen!!!!!!!!!! ");
}while(c!=72 && c!=75 && c!=77 && c!=80);
move(A,c);
check(A);
}while(z<=16);

char qq;
if(z==16)
cout<<" Your game is over !!!!!!!!!!!!!!!!!! \n";
cout<<" Want to play again (y/n) : \n";
do{
cin>>qq;
if( qq!='y' && qq!='Y' && qq!='N' && qq!='n'  )
cout<<"\a Wrong input !!!!!!!!!!!!!\n  Re-enter the values :\n";
}while(qq!='y' && qq!='Y' && qq!='N' && qq!='n') ;
}

void build(long A[4][4])
    {
    cleardevice();
    int x,error;
    char y[7];
     char d[7];
     setcolor(15);
     outtextxy(60,30," Score : ");
    if((T/100000)!=0){
    d[0]=48+(T/100000);
    d[1]=48+((T%100000)/10000);
     d[2]=48+((T%10000)/1000);
     d[3]=48+((T%1000)/100);
     d[4]=48+((T%100)/10);
     d[5]=48+(T%10); }
    else
    { d[0]=32;
    if(((T%100000)/10000)!=0){
    d[1]=48+((T/10000)%10);
     d[2]=48+((T%10000)/1000);
     d[3]=48+((T%1000)/100);
     d[4]=48+((T%100)/10);
     d[5]=48+(T%10);}
    else
    { d[1]=32;
     if(((T%10000)/1000)!=0){
     d[2]=48+((T/1000)%10);
      d[3]=48+((T%1000)/100);
     d[4]=48+((T%100)/10);
     d[5]=48+(T%10); }
     else
     { d[2]=32;
     if(((T%1000)/100)!=0){
     d[3]=48+((T/100)%10);
       d[4]=48+((T%100)/10);
     d[5]=48+(T%10); }
     else
     { d[3]=32;
     if(((T%100)/10)!=0){
     d[4]=48+((T/10)%10);
      d[5]=48+(T%10); }
     else{
     d[4]=32;
     if((T%10)!=0)
     d[5]=48+(T%10);
     else
     d[5]=32;
     }}}}}
     d[6]=32;
setcolor(co%6+1);
outtextxy(180,30,d);
setfillpattern(0,0);
bar(230,30,280,40);
    error=graphresult();
    if(error!=grOk){
    printf(" There is some error in this opening \n");
    printf(" Error is : %s ",grapherrormsg(error));
    getch();
    }
    settextstyle(0,0,0);
    setcolor(1);
    for(x=0;x<4;x++)
    for(z=0;z<4;z++)
    {
    if(A[x][z]==2)
    setcolor(1);
    if(A[x][z]==4)
    setcolor(2);
    if(A[x][z]==8)
    setcolor(3);
    if(A[x][z]==16)
    setcolor(4);
    if(A[x][z]==32)
    setcolor(5);
    if(A[x][z]==64)
    setcolor(6);
    if(A[x][z]==128)
    setcolor(7);
    if(A[x][z]==256)
    setcolor(8);
    if(A[x][z]==512)
    setcolor(9);
    if(A[x][z]==1024)
    setcolor(10);
    if(A[x][z]==2048)
    setcolor(11);
    if(A[x][z]==4096)
    setcolor(12);
    if(A[x][z]==8192)
    setcolor(13);
    if(A[x][z]==17384)
    setcolor(14);
    if(A[x][z]==34768)
    setcolor(15);
    if((A[x][z]/100000)==0)
    y[0]=32;
    if((A[x][z]/100000)!=0)
    y[0]=48+(A[x][z]/100000);
    if((A[x][z]/10000)%10==0)
    y[1]=32;
    if((A[x][z]/10000)%10!=0)
    y[1]=48+(A[x][z]/10000)%10;
    if((A[x][z]/1000)%10==0)
    y[2]=32;
    if((A[x][z]/1000)%10!=0)
    y[2]=48+(A[x][z]/1000)%10;
    if((A[x][z]/100)%10==0)
    y[3]=32;
    if((A[x][z]/100)%10!=0)
    y[3]=48+(A[x][z]/100)%10;
    if((A[x][z]/10)%10==0)
    y[4]=32;
    if((A[x][z]/10)%10!=0)
    y[4]=48+(A[x][z]/10)%10;
    if(A[x][z]%10==0)
    y[5]=32;
    if(A[x][z]%10!=0)
    y[5]=48+A[x][z]%10;
    y[6]=32;
    outtextxy(241+60*z,181+28*x,y);
    setfillpattern(0,0);
    bar(290+60*z,181+28*x,305+60*z,190+28*x);
     }
    setcolor(co%15);
    line(240,180,240,292);
    line(300,180,300,292);
    line(360,180,360,292);
    line(420,180,420,292);
    line(480,180,480,292);
    line(240,180,480,180);
    line(240,208,480,208);
    line(240,236,480,236);
    line(240,264,480,264);
    line(240,292,480,292);
    co++;
    }
